{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/taeeun/Desktop/Programming/Projects/Insta-Clone/components/header/HeaderEnd.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { memo, useCallback, useState, useRef, useEffect } from 'react';\nimport styled from 'styled-components';\nimport Link from 'next/link';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faHome, faHeart, faUserCircle } from '@fortawesome/free-solid-svg-icons';\nimport theme from '../../style/theme';\nimport LoginForm from '../LoginForm';\nimport PopupLayout from '../PopupLayout';\nimport { logout } from '../../reducers/user';\nvar EndContainer = styled.div.withConfig({\n  displayName: \"HeaderEnd__EndContainer\",\n  componentId: \"sc-197bozf-0\"\n})([\"width:250px;height:70%;display:flex;justify-content:flex-end;align-items:center;\"]);\n_c = EndContainer;\nvar LoginBtn = styled.button.withConfig({\n  displayName: \"HeaderEnd__LoginBtn\",\n  componentId: \"sc-197bozf-1\"\n})([\"width:80px;height:30px;border:1px solid \", \";margin-left:5px;color:\", \";\"], theme.borderColorDark, theme.borderColorDark);\n_c2 = LoginBtn;\nvar Icon = styled.button.withConfig({\n  displayName: \"HeaderEnd__Icon\",\n  componentId: \"sc-197bozf-2\"\n})([\"font-size:1.3rem;margin:0 7px;position:relative;\"]);\n_c3 = Icon;\nvar DropMenu = styled.ul.withConfig({\n  displayName: \"HeaderEnd__DropMenu\",\n  componentId: \"sc-197bozf-3\"\n})([\"width:220px;position:absolute;top:30px;right:-15px;background-color:#fff;border-radius:5px;box-shadow:0 0 5px 1px rgba(0,0,0,0.0975);display:flex;flex-direction:column;justify-content:space-between;&.notification{min-height:60px;font-size:0.8rem;justify-content:center;}&.user-menu{height:130px;}\"]);\n_c4 = DropMenu;\nvar Menu = styled.li.withConfig({\n  displayName: \"HeaderEnd__Menu\",\n  componentId: \"sc-197bozf-4\"\n})([\"width:100%;padding:0 10px;color:\", \";font-size:0.85rem;display:flex;align-items:center;&.user-menu-li{height:32%;}&:hover{background-color:\", \";}\"], theme.fontDarkGray, theme.basicBackColor); // const MenuPointer = styled.div`\n//     width:14px;\n//     height:14px;\n//     position:absolute;\n//     top: -7px;\n//     right:20px;\n//     transform: rotate(45deg);\n//     background-color:#fff;\n//     box-shadow:0 0 5px 1px rgba(0, 0, 0, 0.0975);\n// `;\n\n_c5 = Menu;\n\nvar HeaderEnd = function HeaderEnd() {\n  _s();\n\n  var _useSelector = useSelector(function (state) {\n    return state.user;\n  }),\n      isLoggedIn = _useSelector.isLoggedIn;\n\n  var _useState = useState(false),\n      loginFormOn = _useState[0],\n      setLoginFormOn = _useState[1];\n\n  var _useState2 = useState(false),\n      userMenu = _useState2[0],\n      setUserMenu = _useState2[1];\n\n  var _useState3 = useState(false),\n      notification = _useState3[0],\n      setNotification = _useState3[1];\n\n  var userIconRef = useRef(null);\n  var notiIconRef = useRef(null);\n  var dispatch = useDispatch();\n  var openPopup = useCallback(function () {\n    setLoginFormOn(true);\n  }, []);\n  var closePopup = useCallback(function () {\n    setLoginFormOn(false);\n  }, []);\n  var toggleUserMenu = useCallback(function () {\n    if (userMenu) {\n      setUserMenu(false);\n    } else {\n      setUserMenu(true);\n    }\n  }, [userMenu]);\n  var toggleNotification = useCallback(function () {\n    if (notification) {\n      setNotification(false);\n    } else {\n      setNotification(true);\n    }\n  }, [notification]);\n  var logoutFunc = useCallback(function () {\n    dispatch(logout);\n  }, []);\n  var genHandler = useCallback(function (ref, stateHandler) {\n    return function (e) {\n      if (ref.current && !ref.current.contains(e.target)) {\n        stateHandler(false);\n      }\n    };\n  }, []);\n  useEffect(function () {\n    if (!isLoggedIn) {\n      setLoginFormOn(false);\n    }\n  }, [isLoggedIn]);\n  useEffect(function () {\n    var handler = genHandler(userIconRef, setUserMenu);\n    document.addEventListener('click', handler);\n    return function () {\n      document.removeEventListener('click', handler);\n    };\n  }, [userIconRef]);\n  useEffect(function () {\n    var handler = genHandler(notiIconRef, setNotification);\n    document.addEventListener('click', handler);\n    return function () {\n      document.removeEventListener('click', handler);\n    };\n  }, [notiIconRef]); ////////\n\n  return __jsx(EndContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }\n  }, isLoggedIn ? __jsx(React.Fragment, null, __jsx(Icon, {\n    className: \"btn-hover\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 17\n    }\n  }, __jsx(Link, {\n    href: \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 25\n    }\n  }, __jsx(FontAwesomeIcon, {\n    Icon: faHome,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 28\n    }\n  })))), __jsx(Icon, {\n    className: \"btn-hover\",\n    onClick: toggleNotification,\n    ref: notiIconRef,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }\n  }, __jsx(\"i\", {\n    className: \"far fa-heart\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 21\n    }\n  }), notification && __jsx(DropMenu, {\n    className: \"notification\",\n    onClick: function onClick(e) {\n      e.stopPropagation();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 25\n    }\n  }, \"\\uC11C\\uBE44\\uC2A4 \\uC900\\uBE44\\uC911\")), __jsx(Icon, {\n    className: \"btn-hover\",\n    onClick: toggleUserMenu,\n    ref: userIconRef,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-user-circle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 21\n    }\n  }), userMenu && __jsx(DropMenu, {\n    className: \"user-menu\",\n    onClick: function onClick(e) {\n      e.stopPropagation();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 25\n    }\n  }, __jsx(Menu, {\n    className: \"user-menu-li\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 29\n    }\n  }, \"\\uD504\\uB85C\\uD544\"), __jsx(Menu, {\n    className: \"user-menu-li\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 29\n    }\n  }, \"\\uC5C5\\uB85C\\uB4DC\"), __jsx(Menu, {\n    className: \"user-menu-li\",\n    onClick: logoutFunc,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 29\n    }\n  }, \"\\uB85C\\uADF8\\uC544\\uC6C3\")))) : __jsx(React.Fragment, null, __jsx(LoginBtn, {\n    className: \"btn-hover\",\n    onClick: openPopup,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 17\n    }\n  }, \"\\uB85C\\uADF8\\uC778\"), __jsx(PopupLayout, {\n    disp: loginFormOn,\n    closeCallback: closePopup,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 17\n    }\n  }, __jsx(LoginForm, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 21\n    }\n  }))));\n};\n\n_s(HeaderEnd, \"BpqN9qGjpRoeijACcYOWnE+4v5U=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c6 = HeaderEnd;\nexport default _c7 = /*#__PURE__*/memo(HeaderEnd);\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"EndContainer\");\n$RefreshReg$(_c2, \"LoginBtn\");\n$RefreshReg$(_c3, \"Icon\");\n$RefreshReg$(_c4, \"DropMenu\");\n$RefreshReg$(_c5, \"Menu\");\n$RefreshReg$(_c6, \"HeaderEnd\");\n$RefreshReg$(_c7, \"%default%\");","map":{"version":3,"sources":["/Users/taeeun/Desktop/Programming/Projects/Insta-Clone/components/header/HeaderEnd.js"],"names":["React","memo","useCallback","useState","useRef","useEffect","styled","Link","useSelector","useDispatch","FontAwesomeIcon","faHome","faHeart","faUserCircle","theme","LoginForm","PopupLayout","logout","EndContainer","div","LoginBtn","button","borderColorDark","Icon","DropMenu","ul","Menu","li","fontDarkGray","basicBackColor","HeaderEnd","state","user","isLoggedIn","loginFormOn","setLoginFormOn","userMenu","setUserMenu","notification","setNotification","userIconRef","notiIconRef","dispatch","openPopup","closePopup","toggleUserMenu","toggleNotification","logoutFunc","genHandler","ref","stateHandler","e","current","contains","target","handler","document","addEventListener","removeEventListener","stopPropagation"],"mappings":"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","sourcesContent":["import React, { memo, useCallback, useState, useRef, useEffect } from 'react';\nimport styled from 'styled-components';\nimport Link from 'next/link';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faHome, faHeart, faUserCircle } from '@fortawesome/free-solid-svg-icons';\n\nimport theme from '../../style/theme';\nimport LoginForm from '../LoginForm';\nimport PopupLayout from '../PopupLayout';\nimport { logout } from '../../reducers/user';\n\nconst EndContainer = styled.div`\n    width:250px;\n    height:70%;\n    display:flex;\n    justify-content:flex-end;\n    align-items:center;\n`;\n\nconst LoginBtn = styled.button`\n    width:80px;\n    height:30px;\n    border: 1px solid ${theme.borderColorDark};\n    margin-left: 5px;\n    color: ${theme.borderColorDark};\n`;\n\nconst Icon = styled.button`\n    font-size:1.3rem;\n    margin:0 7px;\n    position:relative;\n`;\n\nconst DropMenu = styled.ul`\n    width:220px;\n\n    position:absolute;\n    top: 30px;\n    right:-15px;\n\n    background-color:#fff;\n    border-radius:5px;\n    box-shadow:0 0 5px 1px rgba(0, 0, 0, 0.0975);\n\n    display:flex;\n    flex-direction:column;\n    justify-content:space-between;\n\n    &.notification {\n        min-height:60px;\n        font-size:0.8rem;\n        justify-content:center;\n    }\n\n    &.user-menu {\n        height:130px;\n    }\n`;\n\nconst Menu = styled.li`\n    width:100%;\n    padding:0 10px;\n\n    color: ${theme.fontDarkGray};\n    font-size:0.85rem;\n    \n    display:flex;\n    align-items:center;\n\n    &.user-menu-li {\n        height: 32%;\n    }\n\n    &:hover {\n        background-color:${theme.basicBackColor};\n    }\n`;\n\n// const MenuPointer = styled.div`\n//     width:14px;\n//     height:14px;\n\n//     position:absolute;\n//     top: -7px;\n//     right:20px;\n\n//     transform: rotate(45deg);\n//     background-color:#fff;\n//     box-shadow:0 0 5px 1px rgba(0, 0, 0, 0.0975);\n// `;\n\nconst HeaderEnd = () => {\n    const { isLoggedIn } = useSelector(state => state.user);\n    const [loginFormOn, setLoginFormOn] = useState(false);\n    const [userMenu, setUserMenu] = useState(false);\n    const [notification, setNotification] = useState(false);\n    const userIconRef = useRef(null);\n    const notiIconRef = useRef(null);\n    const dispatch = useDispatch();\n\n    const openPopup = useCallback(() => {\n        setLoginFormOn(true);\n    }, []);\n\n    const closePopup = useCallback(() => {\n        setLoginFormOn(false);\n    }, []);\n\n    const toggleUserMenu = useCallback(() => {\n        if(userMenu) {\n            setUserMenu(false);\n        } else {\n            setUserMenu(true);\n        }\n    }, [userMenu]);\n\n    const toggleNotification = useCallback(() => {\n        if(notification) {\n            setNotification(false);\n        } else {\n            setNotification(true);\n        }\n    }, [notification]);\n\n    const logoutFunc = useCallback(() => {\n        dispatch(logout);\n    }, []);\n\n    const genHandler = useCallback((ref, stateHandler) => {\n        return (e) => {\n            if(ref.current && !ref.current.contains(e.target)){\n                stateHandler(false);\n            }\n        }\n    }, []);\n\n    useEffect(() => {\n        if(!isLoggedIn) {\n            setLoginFormOn(false);\n        }\n    }, [isLoggedIn]);\n\n    useEffect(() => {\n        const handler = genHandler(userIconRef, setUserMenu);\n        document.addEventListener('click', handler);\n\n        return () => {\n            document.removeEventListener('click', handler);\n        };\n    }, [userIconRef]);\n\n    useEffect(() => {\n        const handler = genHandler(notiIconRef, setNotification);\n        document.addEventListener('click', handler);\n\n        return () => {\n            document.removeEventListener('click', handler);\n        };\n    }, [notiIconRef]);\n\n    ////////\n    return (\n        <EndContainer>\n            {isLoggedIn ?\n            <>\n                <Icon className=\"btn-hover\">\n                    <Link href=\"/\">\n                        <a><FontAwesomeIcon Icon={faHome} /></a>\n                    </Link>\n                </Icon>\n                <Icon className=\"btn-hover\" onClick={toggleNotification} ref={notiIconRef}>\n                    <i className=\"far fa-heart\"></i>\n                    {notification &&\n                        <DropMenu className=\"notification\" onClick={(e) => { e.stopPropagation(); }}>\n                            서비스 준비중\n                        </DropMenu>}\n                </Icon>\n                <Icon className=\"btn-hover\" onClick={toggleUserMenu} ref={userIconRef}>\n                    <i className=\"fas fa-user-circle\"></i>\n                    {userMenu && \n                        <DropMenu className=\"user-menu\" onClick={(e) => { e.stopPropagation(); }}>\n                            {/* <MenuPointer /> */}\n                            <Menu className=\"user-menu-li\">프로필</Menu>\n                            <Menu className=\"user-menu-li\">업로드</Menu>\n                            <Menu className=\"user-menu-li\" onClick={logoutFunc}>로그아웃</Menu>\n                        </DropMenu>}\n                </Icon>\n            </>\n            : <>\n                <LoginBtn className=\"btn-hover\" onClick={openPopup}>로그인</LoginBtn>\n                <PopupLayout disp={loginFormOn} closeCallback={closePopup}>\n                    <LoginForm />\n                </PopupLayout>\n              </>}\n        </EndContainer>\n    );\n};\n\nexport default memo(HeaderEnd);"]},"metadata":{},"sourceType":"module"}